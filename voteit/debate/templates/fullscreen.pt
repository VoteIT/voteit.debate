<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      metal:use-macro="view.macro('arche:templates/master.pt')"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="voteit.debate">
<body metal:fill-slot="fullpage">
  <nav class="navbar navbar-fixed-top navbar-voteit">
    <div class="container-fluid">
      <div class="navbar-header" data-check-greedy style="display: inline-block; width: 100%;">
        <a class="navbar-brand" href="${request.application_url}">
            <img height="31" width="85" class="voteitlogo"
                src="${request.static_url('voteit.core:static/images/logo.png')}" />
        </a>
        <a tal:condition="request.meeting"
          class="navbar-brand text-overflow greedy text-center"
          href="${request.resource_url(request.meeting)}">
          ${request.meeting.title}
        </a>
      </div>
    </div><!-- /.container-->
  </nav>
  <div class="container-fluid">

    <h1 class="text-center">
      <span data-list="title"></span>
    </h1>
    <h3 class="text-center" style="margin-top: 0px;">
      <small>
        <span data-list-state="open"
              class="glyphicon glyphicon-play-circle text-success"></span>
        <span data-list-state="closed"
              class="glyphicon glyphicon-lock text-danger"></span>
        <span data-list="state_title"></span>
      </small>
    </h3>

    <div id="speakers-fullscreen" class="list-group" data-speaker-list>
    </div>

  </div>
  <div class="hidden" data-speaker-template
       tal:content="structure request.speaker_lists.render_tpl('fullscreen')">
    The speaker template goes here, it will be populated by json
  </div>

  <script>
  $(document).ready(function () {
    $('[data-list-state]').hide();
    fullscreen_speakers.inactive_list_title = '${inactive_list_title}';
    fullscreen_speakers.load_url = "${request.resource_url(request.meeting, 'speakers_current_queue.json')}";
  });
  </script>
  <script tal:condition="view.use_websockets">
  $(document).ready(function () {
  });
  </script>
  <script tal:condition="not view.use_websockets">
  $(document).ready(function () {
    fullscreen_speakers.init_polling();
  });
  </script>

</body>
</html>
